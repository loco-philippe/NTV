<?xml version="1.0" encoding="utf-8"?>
<?xml-model href="rfc7991bis.rnc"?>
<!DOCTYPE rfc [<!ENTITY nbsp    "&#160;"><!ENTITY zwsp   "&#8203;"><!ENTITY nbhy   "&#8209;"><!ENTITY wj     "&#8288;">]>
<rfc
  xmlns:xi="http://www.w3.org/2001/XInclude"
  category="info"
  docName="draft-thomy-ntv-tab-00"
  ipr="trust200902"
  obsoletes=""
  updates=""
  submissionType="IETF"
  xml:lang="en"
  version="2">

  <front>
    <title>NTV tabular format (NTV-TAB)</title>
    <seriesInfo name="Internet-Draft" value="draft-thomy-ntv-tab-00"/>
    <author fullname="Philippe THOMY" initials="P." surname="THOMY">
      <organization>Loco-labs</organization>
      <address>
        <postal>
          <street>476 chemin du gaf de Famian</street>
          <city>BOLLENE</city>
          <code>84 500</code>
          <country>FR</country>
        </postal>        
        <email>philippe@loco-labs.io</email>  
        <uri>https://github.com/loco-philippe/NTV/blob/main/README.md</uri>
      </address>
    </author> 
    <date year="2023" month="12" day="07"/>
    <area>General</area>
    <workgroup>Internet Engineering Task Force</workgroup>
    <keyword>JSON</keyword>
    <keyword>semantic</keyword>
    <keyword>data interchange format</keyword>
    <keyword>tabular</keyword>
    <keyword>ABNF</keyword>
    <abstract pn="section-abstract">
      <t>This document describes a set of simple rules for unambiguously and concisely encoding tabular data into JSON Data Interchange Format.
       These rules are based on the NTV (Named and Typed Values) structure declined to tabular and multi-dimensional structures.</t>
      <t>The JSON-TAB format is its JSON translation.</t>
    </abstract>
  </front>
  &nbsp;
  <middle>
    <section><name>Introduction</name>
      <section><name>Presentation</name>
      </section>
      <section><name>Key design features</name>
      </section>
      <section><name>Conventions Used in This Document</name>
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
          RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <xref target="RFC2119"/>
          <xref target="RFC8174"/> when, and only when, they appear in all capitals, as shown here.</t>
        <t>This document also uses the following terms:</t><dl newline="true">    
          <dt><strong> JsonText, JsonValue, JsonObject, JsonMember, JsonElement, JsonArray, JsonNumber,
           JsonString, JsonFalse, JsonNull, JsonTrue :</strong></dt>
          <dd>These terms are defined in <xref target="JSON-NTV"/>.</dd>
          <dt><strong>NTV, NTVlist, NVlist, Vlist, TVlist, NTVsingle, NVsingle, TVsingle, Vsingle, NTVname, NTVtype, NTVvalue, 
          JsonNTVtype, JsonNTVname, JsonPrimitive, JsonUnnamed, JsonNamed:</strong></dt>
          <dd>These terms are defined in <xref target="JSON-NTV"/>.</dd>
          <dt><strong>Row, Column, Table, Cell:</strong></dt>
          <dd>These terms are defined in <xref target="W3C TAB"/>.</dd>
          <dt><strong>Dataset</strong></dt>
          <dd>A Dataset is equivalent to a Table</dd>
          <dt><strong>Field</strong></dt>
          <dd>A Field is equivalent to a Column</dd>
          <dt><strong>Dataset</strong></dt>
          <dd>A Dataset is equivalent to a Table</dd>
          
        </dl>
      </section>
    </section>
    <section><name>Tabular data</name>
      <section><name>Principles</name>
      <t><em><strong>Tabular data</strong> is data that is structured into rows, each of which contains information about some things. 
      Each row contains the same number of cells (although some of these cells may be empty), which provide values of properties of the thing described by the row.
       In tabular data, cells within the same column provide values for the same property of the things described by each row. 
       This is what differentiates tabular data from other line-oriented formats. </em><xref target="W3C TAB"/></t>
      <t>Two main uses are identified for tabular data:</t><ul>
        <li>a flow-oriented use for which each row is independent of the others. The dataset is then seen as a list of rows whose number can be variable. 
        This is for example the case of a list of measurements from a sensor.</li>
        <li>a structure-oriented use for which the rows are not independent and contribute to describing the same object. 
        This is for example the case of a grade table for a class which integrates the students, courses, periods, etc.</li></ul>
      <t>This document deals with this second use.</t>
      </section>
      <section><name>Tabular structure</name>
        <t>In structure-oriented use, columns and rows are not equivalent, the columns (or fields) represent the 'semantics' of the data and the rows represent
         a specific combination of field's values according to the structure defined by the dataset. The nature of the rows is often implicit.</t>
        <t>Two basic patterns are present in datasets:<ul>
          <li><strong>Tree pattern</strong>: A tree is represented in tabular form by a list of paths between each leaf and the node. 
          The columns then represent the levels of the tree.</li>
          <li><strong>Matrix pattern</strong>: A matrix (or multi-dimensional data) is represented in tabular form by a field of the values of the matrix 
          and additional fields represent the coordinates of each of the values.</li></ul></t>
          <t>
      </section>
      <section><name>Field structure</name>
      </section>
      <section><name>Representation</name>
      </section>
    </section>
    <section><name>NTV-TAB format</name>
      <section><name>NTV structure</name>
      </section>
      <section><name>simple NTVfield formats</name>
      </section>
      <section><name>default NTVfield formats</name>
      </section>
      <section><name>Optimized NTVfield formats</name>
      </section>
      <section><name>Synthesis</name>
      </section>
    </section>
    <section><name>Examples</name>
      <section><name>Field examples</name>
      </section>
      <section><name>Dataset examples</name>
      </section>
    </section>    
    <section><name>Parsing a JSON-value</name>
    </section>
    &nbsp;
    <section anchor="IANA"><name>IANA Considerations</name>
      <t>Any JsonValue is a JsonNTVValue and conversely, any JsonNTVvalue is a JsonValue.</t>
      <t>Thus, any JSON data may or may not be treated as JsonNTV data, so there is no need to create a specific MIME media type for JsonNTV.</t>
      <t>All properties of the MIME media type "application/json" are applicable.</t>
    </section>
    <section anchor="Security"><name>Security Considerations</name>
      <t>The format used for NTV data exchanges is the JSON format. 
      So, all the security considerations of <xref target="RFC8259"/> apply.</t>
      <t>The NTV structure provides no cryptographic integrity protection of any kind.</t>
    </section>
  </middle>
  &nbsp;
  <back>
    <references><name>References</name>
      <references><name>Normative References</name>
        <xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.7946.xml"/>
        <xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml"/>
        <xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8174.xml"/>
        <xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.5234.xml"/>
        <xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.6901.xml"/>
        <xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.8259.xml"/>
        <xi:include href="https://bib.ietf.org/public/rfc/bibxml/reference.RFC.3339.xml"/>
      </references>
      <references><name>Informative References</name>
        <reference anchor="JSON-NTV" target="https://www.ietf.org/archive/id/draft-thomy-json-ntv-01.html"><front>
          <title>JSON-NTV</title><author initials="P" surname="Thomy"></author><date year="2022"/></front></reference>      
        <reference anchor="OLC" target="https://github.com/google/open-location-code"><front>
          <title>Open Location Code</title><author><organization>"Google"</organization></author><date year="2016"/></front></reference>            
        <reference anchor="W3C TAB" target="https://www.w3.org/TR/2015/REC-tabular-data-model-20151217/"><front>
          <title>Recommendation : Model for Tabular Data and Metadata on the Web</title>
          <author><organization>"W3C"</organization></author><date year="17 December 2015"/></front></reference>            
        <reference anchor="ISO 3166-1 alpha-2" target="https://www.iso.org/standard/72482.html"><front>
          <title>Codes for the representation of names of countries and their subdivisions - Part 1: Country code</title>
          <author><organization>"ISO"</organization></author><date year="2020"/></front></reference>            
      </references>
    </references>
    &nbsp;
    <section><name>Appendixxxxxx</name>
    </section>
    <section anchor="Acknowledgements" numbered="false"><name>Acknowledgements</name>
      <t>TBD</t>
    </section>
    <section anchor="Contributors" numbered="false"><name>Contributors</name> 
      <t>TBD</t>
    </section>
 </back>
</rfc>
